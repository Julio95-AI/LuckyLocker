# âœ… LuckyLocker éƒ¨ç½²æ£€æŸ¥æ¸…å•

> æŒ‰é¡ºåºå®Œæˆæ¯ä¸€æ­¥ï¼Œæ‰“å‹¾è¡¨ç¤ºå®Œæˆ

---

## ğŸ¯ æ–¹æ¡ˆé€‰æ‹©é˜¶æ®µ

### ç¬¬ä¸€æ­¥ï¼šç¡®å®šæ–¹æ¡ˆ

- [ ] **æˆ‘å·²é˜…è¯»** [DEPLOYMENT_COMPARISON.md](DEPLOYMENT_COMPARISON.md)
- [ ] **æˆ‘å·²é€‰æ‹©æ–¹æ¡ˆ**ï¼š_____________ï¼ˆå¡«å†™ï¼šRender/Railway/äº‘æœåŠ¡å™¨/å…¶ä»–ï¼‰
- [ ] **æˆ‘çš„é¢„ç®—**ï¼š_____________ï¼ˆå¡«å†™ï¼šÂ¥0/Â¥35/Â¥70+ï¼‰
- [ ] **é¢„è®¡æµé‡**ï¼š_____________ï¼ˆå¡«å†™ï¼š<50äºº/50-500äºº/>500äººï¼‰

---

## ğŸ“¦ å‡†å¤‡é˜¶æ®µï¼ˆé€‚ç”¨äºæ‰€æœ‰æ–¹æ¡ˆï¼‰

### ç¬¬äºŒæ­¥ï¼šä»£ç å‡†å¤‡

- [ ] **ä»£ç å·²æ¨é€åˆ°GitHub**
  ```bash
  git add .
  git commit -m "å‡†å¤‡éƒ¨ç½²"
  git push origin master
  ```

- [ ] **ç¡®è®¤ä»“åº“ä¸ºPublic**ï¼ˆRenderå…è´¹ç‰ˆéœ€è¦ï¼‰
  - è®¿é—®ï¼šhttps://github.com/ä½ çš„ç”¨æˆ·å/LuckyLocker
  - æŸ¥çœ‹ä»“åº“æ˜¯å¦æ˜¾ç¤º"Public"æ ‡ç­¾

- [ ] **ç¡®è®¤ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨**
  - [ ] `render.yaml` âœ…
  - [ ] `requirements.txt` âœ…ï¼ˆåŒ…å«gunicornï¼‰
  - [ ] `.gitignore` âœ…
  - [ ] `backend/app.py` âœ…ï¼ˆå·²ä¿®æ”¹æ”¯æŒç¯å¢ƒå˜é‡ï¼‰

---

## ğŸš€ éƒ¨ç½²é˜¶æ®µï¼ˆæŒ‰é€‰æ‹©çš„æ–¹æ¡ˆï¼‰

### æ–¹æ¡ˆAï¼šRenderå…è´¹ç‰ˆï¼ˆæ¨èæ–°æ‰‹ï¼‰

#### ç¬¬ä¸‰æ­¥ï¼šRenderéƒ¨ç½²

- [ ] **æ³¨å†ŒRenderè´¦å·**
  - è®¿é—®ï¼šhttps://render.com
  - ä½¿ç”¨GitHubç™»å½•

- [ ] **åˆ›å»ºWeb Service**
  - ç‚¹å‡» "New +" â†’ "Web Service"
  - è¿æ¥GitHubä»“åº“ï¼š`LuckyLocker`
  - å¡«å†™é…ç½®ï¼š
    - Name: `luckylocker`
    - Region: `Singapore`
    - Build Command: `pip install -r requirements.txt`
    - Start Command: `cd backend && gunicorn -w 2 -b 0.0.0.0:$PORT app:app`
  - é€‰æ‹© **Free** è®¡åˆ’

- [ ] **ç­‰å¾…éƒ¨ç½²å®Œæˆ**
  - æŸ¥çœ‹æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯
  - çœ‹åˆ° "Your service is live"

- [ ] **æµ‹è¯•Renderåˆ†é…çš„åŸŸå**
  - è®¿é—®ï¼š`https://luckylocker-xxxx.onrender.com`
  - èƒ½çœ‹åˆ°æŠ½å¥–é¡µé¢ âœ…

#### ç¬¬å››æ­¥ï¼šé…ç½®CloudflareåŸŸå

- [ ] **åœ¨Renderæ·»åŠ è‡ªå®šä¹‰åŸŸå**
  - Settings â†’ Custom Domain â†’ Add
  - è¾“å…¥ï¼š`julio98.dpdns.org`
  - è®°å½•CNAMEç›®æ ‡ï¼š_____________

- [ ] **åœ¨Cloudflareæ·»åŠ DNSè®°å½•**
  - ç™»å½•ï¼šhttps://dash.cloudflare.com
  - é€‰æ‹©åŸŸåï¼š`dpdns.org`
  - DNS â†’ Add recordï¼š
    - Type: `CNAME`
    - Name: `julio98`
    - Target: `luckylocker-xxxx.onrender.com`ï¼ˆå¡«å†™ä¸Šé¢è®°å½•çš„ï¼‰
    - Proxy: **Proxiedï¼ˆæ©™è‰²äº‘æœµï¼‰**
    - TTL: `Auto`

- [ ] **ç­‰å¾…DNSç”Ÿæ•ˆ**
  - ç­‰å¾…5-10åˆ†é’Ÿ
  - æµ‹è¯•å‘½ä»¤ï¼ˆWindows PowerShellï¼‰ï¼š
    ```powershell
    nslookup julio98.dpdns.org
    ```
  - èƒ½è§£æåˆ°IP âœ…

- [ ] **è®¿é—®è‡ªå®šä¹‰åŸŸå**
  - è®¿é—®ï¼š`https://julio98.dpdns.org`
  - èƒ½çœ‹åˆ°æŠ½å¥–é¡µé¢ âœ…

#### ç¬¬äº”æ­¥ï¼šé…ç½®é˜²ä¼‘çœ ï¼ˆå¯é€‰ï¼‰

- [ ] **åˆ›å»ºCloudflare Worker**
  - Cloudflare â†’ Workers & Pages â†’ Create Worker
  - å¤åˆ¶ `cloudflare-worker-keepalive.js` ä»£ç 
  - ä¿®æ”¹åŸŸåä¸ºï¼š`https://julio98.dpdns.org/api/system/config`
  - Save and Deploy

- [ ] **æ·»åŠ Cronè§¦å‘å™¨**
  - Triggers â†’ Add Cron Trigger
  - è¾“å…¥ï¼š`*/10 * * * *`ï¼ˆæ¯10åˆ†é’Ÿï¼‰
  - Add Trigger

---

### æ–¹æ¡ˆBï¼šRailway

#### ç¬¬ä¸‰æ­¥ï¼šRailwayéƒ¨ç½²

- [ ] **æ³¨å†ŒRailwayè´¦å·**
  - è®¿é—®ï¼šhttps://railway.app
  - ä½¿ç”¨GitHubç™»å½•

- [ ] **åˆ›å»ºé¡¹ç›®**
  - New Project â†’ Deploy from GitHub
  - é€‰æ‹© `LuckyLocker` ä»“åº“

- [ ] **é…ç½®ç¯å¢ƒå˜é‡**
  - Settings â†’ Environment Variables
  - æ·»åŠ ï¼š`DEBUG=False`

- [ ] **ç­‰å¾…éƒ¨ç½²å®Œæˆ**
  - æŸ¥çœ‹æ—¥å¿—
  - çœ‹åˆ°æœåŠ¡è¿è¡ŒæˆåŠŸ

- [ ] **æ·»åŠ PostgreSQLæ•°æ®åº“**ï¼ˆæ¨èï¼‰
  - New â†’ Database â†’ Add PostgreSQL
  - è‡ªåŠ¨è¿æ¥åˆ°é¡¹ç›®

- [ ] **é…ç½®åŸŸå**
  - Settings â†’ Domains â†’ Custom Domain
  - æ·»åŠ ï¼š`julio98.dpdns.org`
  - åœ¨Cloudflareé…ç½®DNSï¼ˆåŒRenderæ–¹æ¡ˆï¼‰

---

### æ–¹æ¡ˆCï¼šäº‘æœåŠ¡å™¨

#### ç¬¬ä¸‰æ­¥ï¼šæœåŠ¡å™¨è´­ä¹°

- [ ] **è´­ä¹°äº‘æœåŠ¡å™¨**
  - è…¾è®¯äº‘ï¼šhttps://cloud.tencent.com
  - é˜¿é‡Œäº‘ï¼šhttps://www.aliyun.com
  - é…ç½®ï¼š2æ ¸2Gå†…å­˜ï¼Œ4Må¸¦å®½
  - ç³»ç»Ÿï¼šUbuntu 20.04

- [ ] **è®°å½•æœåŠ¡å™¨ä¿¡æ¯**
  - æœåŠ¡å™¨IPï¼š_____________
  - SSHå¯†ç ï¼š_____________

#### ç¬¬å››æ­¥ï¼šæœåŠ¡å™¨é…ç½®

- [ ] **è¿æ¥æœåŠ¡å™¨**
  ```bash
  ssh root@ä½ çš„æœåŠ¡å™¨IP
  ```

- [ ] **å®‰è£…ç¯å¢ƒ**
  ```bash
  sudo apt update && sudo apt upgrade -y
  sudo apt install python3 python3-pip git nginx supervisor -y
  ```

- [ ] **ä¸Šä¼ ä»£ç **
  ```bash
  cd /home
  git clone https://github.com/ä½ çš„ç”¨æˆ·å/LuckyLocker.git
  cd LuckyLocker
  pip3 install -r requirements.txt
  ```

- [ ] **é…ç½®Supervisor**
  ```bash
  sudo nano /etc/supervisor/conf.d/luckylocker.conf
  # å¤åˆ¶DEPLOY.mdä¸­çš„é…ç½®
  sudo supervisorctl reread
  sudo supervisorctl update
  sudo supervisorctl start luckylocker
  ```

- [ ] **é…ç½®Nginx**
  ```bash
  sudo nano /etc/nginx/sites-available/luckylocker
  # å¤åˆ¶DEPLOY.mdä¸­çš„é…ç½®
  sudo ln -s /etc/nginx/sites-available/luckylocker /etc/nginx/sites-enabled/
  sudo nginx -t
  sudo systemctl restart nginx
  ```

- [ ] **å¼€æ”¾ç«¯å£**
  - åœ¨äº‘æœåŠ¡å™¨æ§åˆ¶å°
  - å®‰å…¨ç»„/é˜²ç«å¢™
  - å¼€æ”¾ï¼š80ï¼ˆHTTPï¼‰ã€443ï¼ˆHTTPSï¼‰

#### ç¬¬äº”æ­¥ï¼šé…ç½®åŸŸå

- [ ] **åœ¨Cloudflareæ·»åŠ DNSè®°å½•**
  - Type: `A`
  - Name: `julio98`
  - Content: `ä½ çš„æœåŠ¡å™¨IP`
  - Proxy: **Proxiedï¼ˆæ©™è‰²äº‘æœµï¼‰**

- [ ] **é…ç½®SSLï¼ˆCloudflareè‡ªåŠ¨ï¼‰**
  - SSL/TLS â†’ åŠ å¯†æ¨¡å¼ï¼šFull

---

## ğŸ§ª æµ‹è¯•é˜¶æ®µï¼ˆæ‰€æœ‰æ–¹æ¡ˆå¿…åšï¼‰

### ç¬¬å…­æ­¥ï¼šåŠŸèƒ½æµ‹è¯•

#### ç”¨æˆ·ç«¯æµ‹è¯•

- [ ] **è®¿é—®æŠ½å¥–é¡µé¢**
  - URLï¼š`https://julio98.dpdns.org`
  - é¡µé¢æ­£å¸¸åŠ è½½ âœ…

- [ ] **æµ‹è¯•æŠ½å¥–åŠŸèƒ½**
  - ç‚¹å‡»"ç«‹å³æŠ½å¥–"
  - 3ç§’åŠ¨ç”»æ­£å¸¸ âœ…
  - èƒ½æŠ½åˆ°æ ¼å­ âœ…
  - æ˜¾ç¤ºå¼€é”å¯†ç  âœ…

- [ ] **æµ‹è¯•é™åˆ¶æœºåˆ¶**
  - å†æ¬¡ç‚¹å‡»æŠ½å¥–
  - æç¤º"å…è´¹æ¬¡æ•°å·²æ»¡" âœ…

- [ ] **æµ‹è¯•ç»¿é€šå‡­è¯**
  - è¾“å…¥æµ‹è¯•å‡­è¯
  - èƒ½å†æ¬¡æŠ½å¥– âœ…

#### ç®¡ç†åå°æµ‹è¯•

- [ ] **è®¿é—®ç®¡ç†åå°**
  - URLï¼š`https://julio98.dpdns.org/admin.html`
  - é¡µé¢æ­£å¸¸åŠ è½½ âœ…

- [ ] **æµ‹è¯•æ ¼å­ç®¡ç†**
  - ä¿®æ”¹æ ¼å­å¯†ç  âœ…
  - ä¿®æ”¹æ ¼å­çŠ¶æ€ âœ…
  - ä¿®æ”¹æ ¼å­å•†å“ âœ…

- [ ] **æµ‹è¯•ç³»ç»Ÿé…ç½®**
  - ä¿®æ”¹æ¯æ—¥åé¢ âœ…
  - ä¿®æ”¹æ´»åŠ¨çŠ¶æ€ âœ…

- [ ] **æµ‹è¯•ç»¿é€šå‡­è¯**
  - æ·»åŠ æ–°å‡­è¯ âœ…
  - æŸ¥çœ‹å‡­è¯åˆ—è¡¨ âœ…
  - åˆ é™¤å‡­è¯ âœ…

- [ ] **æµ‹è¯•äº§å“æ± **
  - æ·»åŠ äº§å“ âœ…
  - å¯ç”¨/ç¦ç”¨äº§å“ âœ…

- [ ] **æµ‹è¯•æŠ½å¥–è®°å½•**
  - èƒ½çœ‹åˆ°åˆšæ‰çš„æŠ½å¥–è®°å½• âœ…

#### ç§»åŠ¨ç«¯æµ‹è¯•

- [ ] **æ‰‹æœºæµè§ˆå™¨æµ‹è¯•**
  - è®¿é—®ï¼š`https://julio98.dpdns.org`
  - é¡µé¢è‡ªé€‚åº” âœ…
  - æŠ½å¥–åŠŸèƒ½æ­£å¸¸ âœ…

- [ ] **å¾®ä¿¡å†…æµ‹è¯•**
  - åœ¨å¾®ä¿¡ä¸­æ‰“å¼€é“¾æ¥
  - åŠŸèƒ½æ­£å¸¸ âœ…

---

## ğŸ¯ ä¼˜åŒ–é˜¶æ®µï¼ˆå¯é€‰ï¼‰

### ç¬¬ä¸ƒæ­¥ï¼šæ€§èƒ½ä¼˜åŒ–

- [ ] **é…ç½®Cloudflareç¼“å­˜**
  - Caching â†’ Configuration â†’ ç¼“å­˜çº§åˆ«ï¼šStandard
  - Page Rules â†’ Cache Everything

- [ ] **å¯ç”¨HTTPSå¼ºåˆ¶è·³è½¬**
  - SSL/TLS â†’ Edge Certificates â†’ Always Use HTTPS

- [ ] **é…ç½®é˜²ç«å¢™è§„åˆ™**ï¼ˆå¯é€‰ï¼‰
  - Security â†’ WAF â†’ æ·»åŠ è§„åˆ™

---

## ğŸ“Š ç›‘æ§é˜¶æ®µï¼ˆæ¨èï¼‰

### ç¬¬å…«æ­¥ï¼šè®¾ç½®ç›‘æ§

#### Render/Railwayç›‘æ§

- [ ] **æŸ¥çœ‹è¿è¡Œæ—¥å¿—**
  - Render/Railwayæ§åˆ¶å°
  - Logsé€‰é¡¹å¡
  - ç¡®è®¤æ— é”™è¯¯

- [ ] **è®¾ç½®å‘Šè­¦**ï¼ˆRailwayæ”¯æŒï¼‰
  - èµ„æºä½¿ç”¨å‘Šè­¦
  - æœåŠ¡ä¸‹çº¿å‘Šè­¦

#### Cloudflareç›‘æ§

- [ ] **æŸ¥çœ‹æµé‡ç»Ÿè®¡**
  - Analytics â†’ Traffic
  - æŸ¥çœ‹è®¿é—®é‡

- [ ] **æŸ¥çœ‹æ€§èƒ½æŒ‡æ ‡**
  - Analytics â†’ Performance
  - æŸ¥çœ‹åŠ è½½é€Ÿåº¦

---

## ğŸ‰ å®Œæˆé˜¶æ®µ

### ç¬¬ä¹æ­¥ï¼šç”Ÿæˆæ¨å¹¿ç´ æ

- [ ] **ç”ŸæˆäºŒç»´ç **
  - è®¿é—®ï¼šhttps://cli.im
  - è¾“å…¥ï¼š`https://julio98.dpdns.org`
  - ä¸‹è½½äºŒç»´ç å›¾ç‰‡ âœ…

- [ ] **åˆ¶ä½œå®£ä¼ æµ·æŠ¥**
  - æ·»åŠ äºŒç»´ç 
  - æ·»åŠ æ´»åŠ¨è¯´æ˜
  - æ·»åŠ æ´»åŠ¨æ—¶é—´

- [ ] **æ‰“å°å¹¶å¼ è´´**
  - æ‰“å°æµ·æŠ¥
  - å¼ è´´åˆ°åº—é“ºæ˜¾çœ¼ä½ç½®

### ç¬¬åæ­¥ï¼šå¤‡ä»½æ•°æ®

- [ ] **å¯¼å‡ºåˆå§‹é…ç½®**
  - åœ¨ç®¡ç†åå°å¯¼å‡ºé…ç½®
  - ä¿å­˜åˆ°æœ¬åœ°

- [ ] **å®šæœŸå¤‡ä»½**ï¼ˆå¦‚æœä½¿ç”¨SQLiteï¼‰
  - æ¯å¤©å¯¼å‡ºé…ç½®
  - ä¿å­˜æŠ½å¥–è®°å½•

---

## âš ï¸ å¸¸è§é—®é¢˜æ£€æŸ¥

### éƒ¨ç½²å¤±è´¥

- [ ] æ£€æŸ¥GitHubä»“åº“æ˜¯å¦ä¸ºPublic
- [ ] æ£€æŸ¥requirements.txtæ˜¯å¦åŒ…å«gunicorn
- [ ] æŸ¥çœ‹Render/Railwayæ—¥å¿—é”™è¯¯ä¿¡æ¯
- [ ] ç¡®è®¤ä»£ç å·²æ­£ç¡®æ¨é€

### åŸŸåæ— æ³•è®¿é—®

- [ ] ç­‰å¾…DNSç”Ÿæ•ˆï¼ˆ5-10åˆ†é’Ÿï¼‰
- [ ] æ£€æŸ¥Cloudflare DNSè®°å½•
- [ ] ç¡®è®¤ProxyçŠ¶æ€ï¼ˆæ©™è‰²äº‘æœµï¼‰
- [ ] ä½¿ç”¨nslookupæµ‹è¯•DNSè§£æ

### åŠŸèƒ½å¼‚å¸¸

- [ ] æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
- [ ] æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
- [ ] ç¡®è®¤æ•°æ®åº“å·²åˆå§‹åŒ–
- [ ] æµ‹è¯•APIæ¥å£æ˜¯å¦æ­£å¸¸

### æ•°æ®ä¸¢å¤±ï¼ˆRenderï¼‰

- [ ] æ¥å—ä¸´æ—¶æ–¹æ¡ˆï¼ˆæ´»åŠ¨æœŸé—´ä¸é‡å¯ï¼‰
- [ ] æˆ–è¿ç§»åˆ°PostgreSQL
- [ ] æˆ–å‡çº§åˆ°Railway

---

## ğŸ“‹ éƒ¨ç½²ä¿¡æ¯è®°å½•

å®Œæˆåå¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼Œæ–¹ä¾¿ä»¥åæŸ¥çœ‹ï¼š

### åŸºæœ¬ä¿¡æ¯

- **éƒ¨ç½²æ–¹æ¡ˆ**ï¼š_____________
- **éƒ¨ç½²æ—¥æœŸ**ï¼š_____________
- **åŸŸå**ï¼šjulio98.dpdns.org

### æœåŠ¡ä¿¡æ¯

- **Render/Railway URL**ï¼š_____________
- **æœåŠ¡å™¨IP**ï¼ˆå¦‚æœ‰ï¼‰ï¼š_____________
- **æ•°æ®åº“**ï¼ˆå¦‚æœ‰ï¼‰ï¼š_____________

### Cloudflareä¿¡æ¯

- **è´¦å·é‚®ç®±**ï¼š_____________
- **DNSè®°å½•ç±»å‹**ï¼šCNAME
- **DNSè®°å½•å€¼**ï¼š_____________

### ç›‘æ§ä¿¡æ¯

- **Worker URL**ï¼ˆå¦‚é…ç½®ï¼‰ï¼š_____________
- **å‘Šè­¦é‚®ç®±**ï¼š_____________

---

## ğŸŠ æ­å–œå®Œæˆéƒ¨ç½²ï¼

- [x] **LuckyLocker å·²æˆåŠŸéƒ¨ç½²åˆ°å…¬ç½‘**
- [x] **åŸŸå https://julio98.dpdns.org å¯ä»¥è®¿é—®**
- [x] **æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡**

**ä¸‹ä¸€æ­¥**ï¼š
1. å¼€å§‹æ¨å¹¿æ´»åŠ¨
2. ç›‘æ§æœåŠ¡è¿è¡ŒçŠ¶æ€
3. æ ¹æ®æµé‡è€ƒè™‘æ˜¯å¦å‡çº§æ–¹æ¡ˆ

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

**æŸ¥çœ‹æ–‡æ¡£**ï¼š
- å¿«é€Ÿéƒ¨ç½²ï¼š[QUICKSTART.md](QUICKSTART.md)
- å®Œæ•´æŒ‡å—ï¼š[DEPLOY_PUBLIC.md](DEPLOY_PUBLIC.md)
- æ–¹æ¡ˆå¯¹æ¯”ï¼š[DEPLOYMENT_COMPARISON.md](DEPLOYMENT_COMPARISON.md)

**å¸¸è§é—®é¢˜**ï¼š
- æŸ¥çœ‹å„æ–‡æ¡£çš„"å¸¸è§é—®é¢˜"ç« èŠ‚

**æ—¥å¿—æŸ¥çœ‹**ï¼š
- Renderï¼šDashboard â†’ Logs
- Railwayï¼šDashboard â†’ Deployments â†’ Logs
- äº‘æœåŠ¡å™¨ï¼š`tail -f /var/log/luckylocker.out.log`

---

**ğŸ‰ ç¥æ´»åŠ¨å¤§å–ï¼**
